# Cloudflare Workers Configuration
name = "nexus-api"
main = "src/index.ts"
compatibility_date = "2024-02-10"

# Environment variables (non-sensitive)
[vars]
ENVIRONMENT = "production"
API_VERSION = "v1"
CORS_ORIGIN = "*"

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "nexus-production"
database_id = "a135a79d-4b32-4091-9c15-ee937b3c9b53"

# KV Namespace for caching (optional, for future use)
# [[kv_namespaces]]
# binding = "CACHE"
# id = "<your-kv-namespace-id>"

# Rate limiting (Cloudflare native)
# Note: limits require paid plan - disabled for free tier
# [limits]
# requests_per_minute = 100

# Environment-specific overrides
[env.development]
name = "nexus-api-dev"
vars = { ENVIRONMENT = "development", CORS_ORIGIN = "http://localhost:3000" }

[env.staging]
name = "nexus-api-staging"
vars = { ENVIRONMENT = "staging" }
